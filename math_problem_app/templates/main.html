{% load static %}
<div class="article_grid_1">
    <img id="gird_1_background" src="{% static 'admin/img/landing_img1.png'%}" alt="">
    <div class=top-left><h2>수학학원?</h2>칠판앞에 10명씩 앉아서 듣는 수업, 네 이름은 불러주지도 않는 선생님
                        <h2>거기는 너희 한명 한명에게</h2>
                        <h1>관심 없어!</h1>
                        </div>
    </div>
</div>
<div id="particles-js">

<div class="grid_mascot">
<img src="{% static 'admin/img/sndw_mascot.png'%}" alt="">
</div>

<div class="article_grid_2">
    <img id="grid_2_background" src="{% static 'admin/img/slide2.png'%} " alt="">
    <div class="cloud x3"></div>
</div>

<div style="text-align:center; font-size:200px; padding:30px;">
  <h1><bolder><i>지루하게 느껴지지 않아?</i></bolder></h1>
</div>

<div class="article_grid_7">
  <img id="grid_7_text" src="{%static 'admin/img/text7.png'%}" alt="">
  <img id="grid_7_background" src="{%static 'admin/img/rullet.png'%}" alt="">
</div>

<div class="article_grid_8">
  <img id="grid_8_text" src="{%static 'admin/img/text8.png'%}" alt="">
  <div class="cloud x1">
</div>

<div class="article_grid_10">
  <img id="grid_10_background" src="{%static 'admin/img/unclesndw.png'%}" alt="">
  <div class="cloud x2">
</div>

<div class="article_grid_11">
    <img id="grid_11_background" src="{%static 'admin/img/text10.png'%}" alt="">
</div>

</div>

<script>
$.getJSON("https://cpv2api.com/posts/published/j-w-v", function(resp) {
  if (resp.success) {
    for (var i = 0; i < resp.data.length; i++) {
      $(".posts ul").append(
        '<li><a target="_blank" href="' +
          resp.data[i].link +
          '">' +
          resp.data[i].title +
          " <span> " +
          resp.data[i].views +
          " views</span> </a></li>"
      );
    }
  }
});

$.getJSON("https://cpv2api.com/pens/showcase/j-w-v", function(resp) {
  if (resp.success) {
    for (var i = 0; i < 5; i++) {
      $(".pens ul").append(
        '<li><a target="_blank" href="' +
          resp.data[i].link +
          '">' +
          resp.data[i].title +
          " <span> " +
          resp.data[i].views +
          " views</span> </a></li>"
      );
    }
  }
});

particlesJS("particles-js", {
  particles: {
    number: {
      value: 33,
      density: {
        enable: true,
        value_area: 1420.4657549380909
      }
    },
    color: {
      value: "#ffffff"
    },
    shape: {
      type: "triangle",
      stroke: {
        width: 0,
        color: "#000000"
      },
      polygon: {
        nb_sides: 5
      },
      image: {
        src: "img/github.svg",
        width: 100,
        height: 100
      }
    },
    opacity: {
      value: 0.06313181133058181,
      random: false,
      anim: {
        enable: false,
        speed: 1,
        opacity_min: 0.1,
        sync: false
      }
    },
    size: {
      value: 11.83721462448409,
      random: true,
      anim: {
        enable: false,
        speed: 40,
        size_min: 0.1,
        sync: false
      }
    },
    line_linked: {
      enable: true,
      distance: 150,
      color: "#ffffff",
      opacity: 0.4,
      width: 1
    },
    move: {
      enable: true,
      speed: 6,
      direction: "none",
      random: false,
      straight: false,
      out_mode: "out",
      bounce: false,
      attract: {
        enable: false,
        rotateX: 600,
        rotateY: 1200
      }
    }
  },
  interactivity: {
    detect_on: "canvas",
    events: {
      onhover: {
        enable: true,
        mode: "repulse"
      },
      onclick: {
        enable: true,
        mode: "push"
      },
      resize: true
    },
    modes: {
      grab: {
        distance: 400,
        line_linked: {
          opacity: 1
        }
      },
      bubble: {
        distance: 400,
        size: 40,
        duration: 2,
        opacity: 8,
        speed: 3
      },
      repulse: {
        distance: 200,
        duration: 0.4
      },
      push: {
        particles_nb: 4
      },
      remove: {
        particles_nb: 2
      }
    }
  },
  retina_detect: true
});


  jQuery(document).ready(function(){
    $('h1').mousemove(function(e){
       var rXP = (e.pageX - this.offsetLeft-$(this).width()/2);
       var rYP = (e.pageY - this.offsetTop-$(this).height()/2);
    $('h1').css('text-shadow', +rYP/10+'px '+rXP/80+'px rgba(227,6,19,.8), '+rYP/8+'px '+rXP/60+'px rgba(255,237,0,1), '+rXP/70+'px '+rYP/12+'px rgba(0,159,227,.7)');
        });
          });

    history.pushState(null, null, "#main");
    $(window).bind("hashchange", function(){
        history.pushState(null, null, "#main");
    });

    $(".main-bottom-msg").mouseover(function(){
        $(this).css("color", "#20216C");
    });
    $(".main-bottom-msg").mouseleave(function(){
        $(this).css("color", "white");
    });

    $('#estimate').click(function () {
        $.ajax({
            url: "estimationStart/",
            type: 'GET',
            contentType: "application/json; charset=utf-8",
            success: function (result) {
                $('.main-container').empty()
                $('.main-container').append(result)
            },
        });
    })

    {% if user %}
    $('#login').text('로그아웃')
    $('#login').unbind('click')
    $('#signup').css('display', 'none')
    $('#login').removeClass('border-right')
    $('#login').click(function () {
        $.ajax({
            url: "logout/",
            type: 'GET',
            contentType: "application/json; charset=utf-8",
            success: function (result) {
                goToMain()
                alert(result.msg)
                $('#login').addClass('border-right')
                $('#signup').css('display', 'inherit')
            },
        });
    })
    {% else %}
    $('#login').text('로그인')
    $('#login').unbind('click')
    $('#login').click(function () {
        $.ajax({
            url: "login/",
            type: 'GET',
            contentType: "application/json; charset=utf-8",
            success: function (result) {
                $('.main-container').empty()
                $('.main-container').append(result)
            },
        });
    })
    {% endif %}
</script>
